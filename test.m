tic
com_weight(1:30,1:30);
toc

tic
com1_weight(1:30,1:30,a);
toc




tic
c = transpose([1:10000])*[1:10000];
toc

tic
c(a);
toc